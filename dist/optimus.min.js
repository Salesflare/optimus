var Optimus=function(e){"use strict";function r(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var t={transformers:[function(e){return"person-customer.customers"===e.id||"person-contact.my-contacts"===e.id?{id:"person-type.id",entity:"person",input:"multiselect",label:"Type",operator:"in",type:"integer",value:["person-customer.customers"===e.id?2:1]}:e},function(e){var r={is_empty:{operator:"equal",value:["null"]},is_not_empty:{operator:"not_equal",value:["null"]},is_null:{operator:"equal",value:["null"]},is_not_null:{operator:"not_equal",value:["null"]},true:{operator:"equal",value:["true"]},false:{operator:"equal",value:["false"]}},t=e.operator&&e.operator.key?e.operator.key:e.operator||"";if(Object.keys(r).includes(t)){var o=r[t];e.operator=o.operator,e.value=o.value}return e},function(e){var r,t;if("between"===e.operator||"not_between"===e.operator)if(void 0===e.value||void 0===e.value[0]||void 0===e.value[0].value1&&void 0===e.value[0].value2?(r=e.value1,t=e.value2,delete e.value1,delete e.value2):(r=e.value[0].value1,t=e.value[0].value2,delete e.value[0].value1,delete e.value[0].value2),null!=r&&null!=t)e.value=[r,t];else{if(void 0===r&&void 0===t)return e;e.value=[]}return e},function(e){return"Campaign"===e.display_entity&&"person"===e.entity&&(e.entity="campaign"),e},function(e){return e.entity&&!e.query_builder_id&&(e.query_builder_id=e.id),e},function(e){return e.id.startsWith("count custom.")&&(e.id="count ".concat(e.id.split(/ (.*)/)[1].replace(/ /g,"_").toLowerCase())),e.id.startsWith("custom.")&&(e.id=e.id.replace(/ /g,"_").toLowerCase()),e.entity&&(e.query_builder_id=e.id),e}]},o=t.transform=function(e){if(!e.rules)return e;var o=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){r(e,t,o[t])})}return e}({},e);return t.transformers.forEach(function(e){o.rules=o.rules.map(function(r){var o=r,n=r;if((void 0===o.rules||void 0===o.condition)&&void 0===n.id)throw new Error("Invalid filter object");return void 0===n.id?t.transform(r):e(r)})}),o},n={transform:o};return e.default=n,e.transform=o,e}({});
//# sourceMappingURL=optimus.min.js.map
